(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,n){e.exports=n.p+"static/media/bg-start-o.17042cbc.jpg"},294:function(e,t,n){e.exports=n.p+"static/media/bg-pr.a427234a.jpg"},306:function(e,t,n){e.exports=n(545)},311:function(e,t,n){},316:function(e,t,n){},319:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a,r,o,c,i=n(0),u=n.n(i),l=n(56),s=n.n(l),m=(n(311),n(32)),f=n(35),d=n(36),p=n(50),E=n(48),g=n(51),b=(n(316),n(49)),O=n(566),h=n(92),v=n(63),j=n(65),T=n(78),C=n(215),A=n(276),S=n(558);!function(e){e.LOGIN="LOGIN",e.REGISTRATION="REGISTRATION"}(a||(a={})),function(e){e.EMAIL="EMAIL",e.PASSWORD="PASSWORD",e.PASSWORD_REPEAT="PASSWORD_REPEAT",e.USERNAME="USERNAME"}(r||(r={})),function(e){e.Date="date",e.Username="username",e.Amount="amount"}(o||(o={})),function(e){e.ASC="ASC",e.DESC="DESC"}(c||(c={}));var y=n(17),k="GO_TO_REGISTRATION_PAGE";var N="GO_TO_LOGIN_PAGE";var I="REGISTRATION";var R="CHANGE_AUTH_FIELD";function w(e,t){return{type:R,field:e,value:t}}var D="USER_AUTH_SUCCESS";function P(e){return{type:D,idToken:e}}var F="USER_AUTH_FAILURE";function _(e){return{type:F,errorText:e}}var L="LOGIN";var M=1e3,U=20,B="FETCH_PROFILE_DATA";function x(){return{type:B}}var V="FETCH_PROFILE_DATA_SUCCESS";var G="OPEN_TRANSACTION_MODAL";function W(e,t){return{type:G,name:e,amount:t}}var H="CLOSE_TRANSACTION_MODAL";function z(e,t){return{type:H,name:e,amount:t}}var J="CHANGE_TRANSACTION_NAME";var q="UPDATE_SUGGESTED_USERS_LIST";var Q="CHANGE_TRANSACTION_AMOUNT";var K="CREATE_TRANSACTION";var X="LOGOUT";function Y(){return{type:X}}var Z="CREATE_TRANSACTION_FAILURE";function $(e){return{type:Z,errorText:e}}var ee="CHANGE_SORT_OPTIONS";function te(e){return{type:ee,column:e}}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return function(e,t){return Object(y.a)({},e,{page:a.REGISTRATION,credentials:{username:"",email:"",password:"",rPassword:""},errorText:""})}(e);case N:return function(e,t){return Object(y.a)({},e,{page:a.LOGIN,credentials:{username:"",email:"",password:"",rPassword:""},errorText:""})}(e);case R:return function(e,t){var n=t.field.toUpperCase(),a=Object(y.a)({},e.credentials);if(n===r.USERNAME){if(a.username&&a.username.length>U)return e;a.username=t.value}else n===r.EMAIL?a.email=t.value:n===r.PASSWORD?a.password=t.value:n===r.PASSWORD_REPEAT&&(a.rPassword=t.value);return Object(y.a)({},e,{credentials:Object(y.a)({},a)})}(e,t);case F:return function(e,t){return Object(y.a)({},e,{errorText:t.errorText})}(e,t);case X:return function(e,t){return Object(y.a)({},e,{errorText:""})}(e);default:return e}},ae=n(295),re=n(277);var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return function(e,t){var n=t.userInfo,a=t.transactionsInfo;return a.sort(function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}),Object(y.a)({},e,{userInfo:n,transactionsInfo:a,isLoading:!1})}(e,t);case G:return function(e,t){return Object(y.a)({},e,{transactionModalOpened:!0,transactionModalData:{name:t.name||"",amount:t.amount||0,suggestedUsersList:[]}})}(e,t);case H:return function(e,t){return Object(y.a)({},e,{transactionModalOpened:!1})}(e);case J:return function(e,t){return Object(y.a)({},e,{transactionModalData:Object(y.a)({},e.transactionModalData,{name:t.name})})}(e,t);case Q:return function(e,t){return Object(y.a)({},e,{transactionModalData:Object(y.a)({},e.transactionModalData,{amount:t.amount})})}(e,t);case q:return function(e,t){var n,a=t.suggestedUsersList;return Object(y.a)({},e,{transactionModalData:Object(y.a)({},e.transactionModalData,{suggestedUsersList:(n=a,n.map(function(e){return{key:e.id,value:e.name,text:e.name}}))})})}(e,t);case Z:return function(e,t){return Object(y.a)({},e,{transactionModalData:Object(y.a)({},e.transactionModalData,{errorText:t.errorText})})}(e,t);case B:return function(e,t){return Object(y.a)({},e,{isLoading:!0})}(e);case ee:return function(e,t){var n=t.column,a=e.transactionsInfo,r=e.sortColumn,o=e.sortDirection;if(r!==n)return Object(y.a)({},e,{sortColumn:n,transactionsInfo:re.sortBy(a,[n]),sortDirection:c.ASC});var i=Object(ae.a)(a).reverse();return Object(y.a)({},e,{transactionsInfo:i,sortDirection:o===c.ASC?c.DESC:c.ASC})}(e,t);default:return e}},ce={page:a.LOGIN,credentials:{username:"",email:"",password:"",rPassword:""}},ie={userInfo:{name:"",balance:0},transactionsInfo:[],isLoading:!1,transactionModalOpened:!1,transactionModalData:{name:"",amount:0,suggestedUsersList:[]},sortColumn:o.Date,sortDirection:c.DESC},ue={auth:ce,profile:ie},le=function(e){return Object(T.combineReducers)({router:Object(h.b)(e),auth:ne,profile:oe})},se=n(564),me=n(296),fe=n(279),de=n(151),pe=n(554),Ee=n(280),ge=n(34),be=n(553),Oe=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,null,[{key:"setValue",value:function(e,t){localStorage.setItem(e,t)}},{key:"getValue",value:function(e){var t=localStorage.getItem(e);return null===t?null:t}},{key:"removeValue",value:function(e){localStorage.removeItem(e)}}]),e}(),he="http://193.124.114.46:3001",ve=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,null,[{key:"registration",value:function(e){var t=fetch("".concat(he,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"login",value:function(e){var t=fetch("".concat(he,"/sessions/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getTransactions",value:function(e){var t=fetch("".concat(he,"/api/protected/transactions"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getUserInfo",value:function(e){var t=fetch("".concat(he,"/api/protected/user-info"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getFilteredUsersList",value:function(e){var t=Oe.getValue("id_token"),n=fetch("".concat(he,"/api/protected/users/list"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({filter:e})}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(n)}},{key:"createTransaction",value:function(e,t){var n=Oe.getValue("id_token"),a=fetch("".concat(he,"/api/protected/transactions"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({name:e,amount:t})}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(a)}}]),e}(),je=n(555),Te=Object(se.a)(function(e){return e.pipe(Object(me.a)(k),Object(fe.a)(function(e){return Object(Ee.a)(Object(ge.d)("/registration"))}))},function(e){return e.pipe(Object(me.a)(N),Object(fe.a)(function(e){return Object(Ee.a)(Object(ge.d)("/"))}))},function(e){return e.pipe(Object(me.a)(I),Object(fe.a)(function(e){return ve.registration(e.credentials).pipe(Object(de.a)(function(e){var t=e.data.id_token;return Oe.setValue("id_token",t),P(t)}),Object(pe.a)(function(e){return Object(Ee.a)(_(e.message))}))}))},function(e){return e.pipe(Object(me.a)(D),Object(fe.a)(function(e){return Object(Ee.a)(Object(ge.d)("/profile"))}))},function(e){return e.pipe(Object(me.a)(L),Object(fe.a)(function(e){return ve.login(e.credentials).pipe(Object(de.a)(function(e){var t=e.data.id_token;return Oe.setValue("id_token",t),P(t)}),Object(pe.a)(function(e){return Object(Ee.a)(_(e.message))}))}))},function(e){return e.pipe(Object(me.a)(B),Object(fe.a)(function(e){var t=Oe.getValue("id_token")||"";return Object(je.a)(ve.getUserInfo(t),ve.getTransactions(t)).pipe(Object(de.a)(function(e){var t;return function(e,t){return{type:V,userInfo:e,transactionsInfo:t}}({balance:(t=e[0].data.user_info_token).balance,name:t.name},e[1].data.trans_token)}),Object(pe.a)(function(e){return Object(Ee.a)(Y(),Object(ge.d)("/"),_(e.message))}))}))},function(e){return e.pipe(Object(me.a)(J),Object(fe.a)(function(e){return ve.getFilteredUsersList(e.name).pipe(Object(de.a)(function(e){return t=e.data,{type:q,suggestedUsersList:t};var t}),Object(pe.a)(function(e){return Object(Ee.a)($(e.message))}))}))},function(e){return e.pipe(Object(me.a)(K),Object(fe.a)(function(e){return ve.createTransaction(e.name,e.amount).pipe(Object(fe.a)(function(){return Object(Ee.a)(x(),z())}),Object(pe.a)(function(e){return Object(Ee.a)($(e.message))}))}))},function(e){return e.pipe(Object(me.a)(X),Object(fe.a)(function(e){return Oe.removeValue("id_token"),Object(Ee.a)(Object(ge.d)("/"))}))},function(e){return e.pipe(Object(me.a)(V),Object(fe.a)(function(e){return Object(Ee.a)(te(o.Date))}))}),Ce=Object(j.a)({basename:"/parrotwings"}),Ae=Object(S.a)();var Se=n(58),ye=(n(319),n(570)),ke=n(559),Ne=n(565),Ie=n(563),Re=n(162),we=n.n(Re),De=n(156),Pe=n(157),Fe=n.n(Pe),_e=Object(b.cn)("LoginPage"),Le=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={loginFormVisible:!1,loginButtonActive:!0},n.getLoginForm=function(){var e=n.state,t=e.loginFormVisible,a=e.loginButtonActive,o=n.props,c=o.openRegistrationPageClick,i=o.onChangeAuthField,l=(o.email,o.errorText);return u.a.createElement(ye.a,{visible:t,animation:"fade",duration:M},u.a.createElement("div",{className:_e("Form")},u.a.createElement(ke.a,{error:Boolean(l)},u.a.createElement(ke.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"E-mail"),u.a.createElement(ke.a.Input,{icon:"mail",iconPosition:"left",required:!0,id:"email-input",type:"email",placeholder:"Enter e-mail",onChange:function(e){return n.changeEmailField(r.EMAIL,e.target.value)},onBlur:n.emailValidate,error:!a})),u.a.createElement(ke.a.Field,null,u.a.createElement("label",null,"Password"),u.a.createElement(ke.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD,e.target.value)}})),u.a.createElement(ke.a.Field,null,u.a.createElement(Ne.a,{type:"submit",color:"instagram",onClick:n.loginButtonClick,disabled:!a},"Let me in!")),u.a.createElement(ke.a.Field,null,u.a.createElement("div",{className:_e("Actions")},u.a.createElement("div",{className:_e("RegistrationInfo")},u.a.createElement("span",null,"Don't have an account?"),u.a.createElement("a",{className:_e("OpenRegistrationBtn"),onClick:c},"Sign up")))),u.a.createElement(Ie.a,{error:!0,header:"Authorisation Error",content:l}))))},n.getTitle=function(){var e=n.state.loginFormVisible;return u.a.createElement(ye.a,{visible:e,animation:"fade",duration:1e3},u.a.createElement("div",{className:_e("Title")},u.a.createElement(we.a,{as:"h1"},"Welcome to Parrot Wings!")))},n.loginButtonClick=function(){var e=n.props,t=e.email,a=e.password;(0,e.onLoginButtonClick)({email:t,password:a})},n.emailValidate=function(){var e=n.props.email;De.validate(e)?n.setState({loginButtonActive:!0}):n.setState({loginButtonActive:!1})},n.changeEmailField=function(e,t){var a=n.props.onChangeAuthField;n.setState({loginButtonActive:!0}),a(e,t)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:_e(),style:{backgroundImage:"url(".concat(Fe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},this.getTitle(),this.getLoginForm())}},{key:"componentDidMount",value:function(){this.setState({loginFormVisible:!0})}},{key:"componentWillUnmount",value:function(){this.setState({loginFormVisible:!1})}}]),t}(i.Component),Me=Object(Se.a)(function(e){return e.auth.credentials.email},function(e){return e.auth.credentials.password},function(e){return e.auth.errorText},function(e,t,n){return{email:e,password:t,errorText:n}}),Ue=Object(m.c)(function(e){return Object(y.a)({},Me(e))},function(e){return{openRegistrationPageClick:function(){return e({type:k})},onChangeAuthField:function(t,n){return e(w(t,n))},onLoginButtonClick:function(t){return e(function(e){return{type:L,credentials:e}}(t))}}})(Le),Be=(n(534),Object(b.cn)("RegistrationPage")),xe=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={registrationFormVisible:!1,registrationButtonActive:!0},n.getRegistrationForm=function(){var e=n.state,t=e.registrationFormVisible,a=e.registrationButtonActive,o=n.props,c=o.openLoginPageClick,i=o.onChangeAuthField,l=o.errorText,s=o.password,m=o.rPassword,f=o.username,d=o.email,p=m===s;return u.a.createElement(ye.a,{visible:t,animation:"fade",duration:M},u.a.createElement("div",{className:Be("Form")},u.a.createElement(ke.a,{error:Boolean(l)},u.a.createElement(ke.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"E-mail"),u.a.createElement(ke.a.Input,{id:"email-input",type:"email",icon:"mail",iconPosition:"left",placeholder:"Enter e-mail",onChange:function(e){return n.changeEmailField(r.EMAIL,e.target.value)},onBlur:function(){return n.emailValidate()},error:!a,value:d})),u.a.createElement(ke.a.Field,null,u.a.createElement("label",null,"Username"),u.a.createElement(ke.a.Input,{icon:"user",iconPosition:"left",type:"text",placeholder:"Enter username",onChange:function(e){return i(r.USERNAME,e.target.value)},value:f})),u.a.createElement(ke.a.Field,null,u.a.createElement("label",null,"Password"),u.a.createElement(ke.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD,e.target.value)},error:!p,value:s})),u.a.createElement(ke.a.Field,null,u.a.createElement("label",null,"Repeat password"),u.a.createElement(ke.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD_REPEAT,e.target.value)},error:!p,value:m})),u.a.createElement(ke.a.Field,null,u.a.createElement("div",{className:Be("SignUpButton")},u.a.createElement(Ne.a,{type:"submit",color:"instagram",onClick:n.onRegistrationButtonClick,disabled:!a||!p},"Sign up and login"))),u.a.createElement(ke.a.Field,null,u.a.createElement("div",{className:Be("Actions")},u.a.createElement("div",{className:Be("RegistrationInfo")},u.a.createElement("span",null,"Already signed up?"),u.a.createElement("a",{className:Be("OpenRegistrationBtn"),onClick:c},"Sign in")))),u.a.createElement(Ie.a,{error:!0,header:"Registration Error",content:l}))))},n.getTitle=function(){var e=n.state.registrationFormVisible;return u.a.createElement(ye.a,{visible:e,animation:"fade",duration:1e3},u.a.createElement("div",{className:Be("Title")},u.a.createElement(we.a,{as:"h1"},"Join us!")))},n.onRegistrationButtonClick=function(){var e=n.props,t=e.email,a=e.password,r=e.username;(0,e.registrationButtonClick)({email:t,password:a,username:r})},n.emailValidate=function(){var e=n.props.email;De.validate(e)?n.setState({registrationButtonActive:!0}):n.setState({registrationButtonActive:!1})},n.changeEmailField=function(e,t){var a=n.props.onChangeAuthField;n.setState({registrationButtonActive:!0}),a(e,t)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:Be(),style:{backgroundImage:"url(".concat(Fe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},this.getTitle(),this.getRegistrationForm())}},{key:"componentDidMount",value:function(){this.setState({registrationFormVisible:!0})}},{key:"componentWillUnmount",value:function(){this.setState({registrationFormVisible:!1})}}]),t}(i.Component),Ve=Object(Se.a)(function(e){return e.auth.credentials.username},function(e){return e.auth.credentials.email},function(e){return e.auth.credentials.password},function(e){return e.auth.credentials.rPassword},function(e){return e.auth.errorText},function(e,t,n,a,r){return{username:e,email:t,password:n,rPassword:a,errorText:r}}),Ge=Object(m.c)(function(e){return Object(y.a)({},Ve(e))},function(e){return{openLoginPageClick:function(){return e({type:N})},registrationButtonClick:function(t){return e(function(e){return{type:I,credentials:e}}(t))},onChangeAuthField:function(t,n){return e(w(t,n))}}})(xe),We=(n(535),n(103)),He=n(567),ze=n(556),Je=n(557),qe=(n(536),n(562)),Qe=Object(b.cn)("TransactionsInfo"),Ke=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getTableRow=function(e){var t=e.id,a=e.balance,r=e.amount,o=e.date,c=e.username,i=n.props.openTransactionModal;return u.a.createElement(qe.a.Row,{key:t,positive:r>0,negative:r<0},u.a.createElement(qe.a.Cell,null,o),u.a.createElement(qe.a.Cell,null,c),u.a.createElement(qe.a.Cell,null,r," PW"),u.a.createElement(qe.a.Cell,null,a," PW"),u.a.createElement(qe.a.Cell,null,u.a.createElement(Ne.a,{color:"green",onClick:function(){return i(c,Math.abs(r))}},"Use as template")))},n.getTableEmptyRow=function(){return u.a.createElement(qe.a.Row,null,u.a.createElement(qe.a.Cell,null,"No transactions"))},n.getTable=function(){var e=n.props,t=e.transactionsInfo,a=e.sortDirection,r=e.sortColumn,i=a===c.ASC?"ascending":"descending";return u.a.createElement("div",{className:Qe("Table")},u.a.createElement(qe.a,{selectable:!0,sortable:!0,celled:!0,compact:!0,fixed:!0},u.a.createElement(qe.a.Header,null,u.a.createElement(qe.a.Row,null,u.a.createElement(qe.a.HeaderCell,{sorted:r===o.Date?i:void 0,onClick:function(){return n.handleSort(o.Date)}},"Date/Time of the transaction"),u.a.createElement(qe.a.HeaderCell,{sorted:r===o.Username?i:void 0,onClick:function(){return n.handleSort(o.Username)}},"Correspondent name"),u.a.createElement(qe.a.HeaderCell,{sorted:r===o.Amount?i:void 0,onClick:function(){return n.handleSort(o.Amount)}},"Transaction amount"),u.a.createElement(qe.a.HeaderCell,null,"Resulting balance"),u.a.createElement(qe.a.HeaderCell,null,"Actions"))),u.a.createElement(qe.a.Body,null,0===t.length?n.getTableEmptyRow():t.map(function(e){return n.getTableRow(e)}))))},n.handleSort=function(e){(0,n.props.changeSortType)(e)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:Qe()},u.a.createElement(O.a,{as:"h2",className:Qe("Title")},"Transactions history"),this.getTable())}}]),t}(i.Component),Xe=Object(Se.a)(function(e){return e.profile.transactionsInfo},function(e){return e.profile.sortDirection},function(e){return e.profile.sortColumn},function(e,t,n){return{transactionsInfo:e,sortDirection:t,sortColumn:n}}),Ye=Object(m.c)(function(e){return Object(y.a)({},Xe(e))},function(e){return{openTransactionModal:function(t,n){return e(W(t,n))},changeSortType:function(t){return e(te(t))}}})(Ke),Ze=(n(537),n(560)),$e=n(561),et=Object(b.cn)("TransactionModal"),tt=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).dropdownRef=u.a.createRef(),n.onConfirmButtonClick=function(){var e=n.props,t=e.createTransaction,a=e.transactionModalData;t(a.name,a.amount)},n.onSelectTransactionName=function(e,t){var a=t.value;(0,n.props.changeTransactionName)(a)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.transactionModalOpened,n=e.closeTransactionModal,a=e.transactionModalData,r=e.changeTransactionName,o=e.changeTransactionAmount,c=(e.createTransaction,a.name),i=a.amount,l=a.suggestedUsersList,s=a.errorText,m=void 0===s?"":s;return u.a.createElement("div",{className:et()},u.a.createElement(Ze.a,{open:t,closeOnDocumentClick:!0},u.a.createElement(O.a,{icon:"money",content:"Create new transaction"}),u.a.createElement(Ze.a.Content,null,u.a.createElement(ke.a,{error:Boolean(m)},u.a.createElement(ke.a.Field,null,u.a.createElement("label",{htmlFor:"dropdown"},"Name"),u.a.createElement($e.a,{id:"dropdown",placeholder:"Write name and select user",fluid:!0,search:!0,selection:!0,onSearchChange:function(e,t){return r(t.searchQuery)},options:l,onChange:this.onSelectTransactionName.bind(this),ref:this.dropdownRef,text:c})),u.a.createElement(ke.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"Amount"),u.a.createElement(ke.a.Input,{value:i||"",placeholder:"Amount",type:"number",onChange:function(e){return o(Number(e.target.value))}})),u.a.createElement(Ie.a,{error:!0,header:"Transaction error",content:m}))),u.a.createElement(Ze.a.Actions,null,u.a.createElement(Ne.a,{color:"red",onClick:n},u.a.createElement(We.a,{name:"remove"}),"Cancel"),u.a.createElement(Ne.a,{color:"green",onClick:this.onConfirmButtonClick},u.a.createElement(We.a,{name:"checkmark"}),"Confirm"))))}}]),t}(i.Component),nt=Object(Se.a)(function(e){return e.profile.transactionModalOpened},function(e){return e.profile.transactionModalData},function(e,t){return{transactionModalOpened:e,transactionModalData:t}}),at=Object(m.c)(function(e){return Object(y.a)({},nt(e))},function(e){return{closeTransactionModal:function(){return e(z())},changeTransactionName:function(t){return e(function(e){return{type:J,name:e}}(t))},changeTransactionAmount:function(t){return e(function(e){return{type:Q,amount:e}}(t))},createTransaction:function(t,n){return e(function(e,t){return{type:K,name:e,amount:t}}(t,n))}}})(tt),rt=n(294),ot=n.n(rt),ct=Object(b.cn)("ProfilePage"),it=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getUserInfo=function(){var e=n.props,t=e.userInfo,a=e.openTransactionModal,r=e.logout,o=e.fetchProfileData,c=t.name,i=t.balance;return u.a.createElement("div",{className:ct("UserInfo")},u.a.createElement("div",{className:ct("Name")},"Name: ",u.a.createElement("span",{className:ct("NameValue")},c)),u.a.createElement("div",{className:ct("Balance")},"Balance: ",u.a.createElement("span",{className:ct("BalanceValue")},i)," PW"),u.a.createElement("div",{className:ct("SendButton")},u.a.createElement("a",{onClick:function(){return a()}},u.a.createElement(We.a,{name:"btc"}),u.a.createElement("span",null,"Create transaction"))),u.a.createElement("div",{className:ct("SendButton")},u.a.createElement("a",{onClick:function(){return o()}},u.a.createElement(We.a,{name:"sync"}),u.a.createElement("span",null,"Update info"))),u.a.createElement("div",{className:ct("Logout")},u.a.createElement("a",{onClick:r,className:ct("LogoutElement")},u.a.createElement(We.a,{name:"power off"}),u.a.createElement("span",null,"Logout"))))},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProfileData)()}},{key:"render",value:function(){var e=this.props.isLoading;return u.a.createElement("div",{className:ct()},u.a.createElement(He.a,{active:e},u.a.createElement(ze.a,{size:"massive"},"Loading")),!e&&u.a.createElement("div",{className:ct("Container"),style:{backgroundImage:"url(".concat(ot.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},u.a.createElement(Je.a,null,this.getUserInfo(),u.a.createElement(Ye,null),u.a.createElement(at,null))))}}]),t}(i.Component),ut=Object(Se.a)(function(e){return e.profile.isLoading},function(e){return e.profile.userInfo},function(e){return e.profile.transactionsInfo},function(e,t,n){return{isLoading:e,userInfo:t,transactionsInfo:n}}),lt=Object(m.c)(function(e){return Object(y.a)({},ut(e))},function(e){return{fetchProfileData:function(){return e(x())},openTransactionModal:function(t,n){return e(W(t,n))},logout:function(){return e(Y())}}})(it),st=Object(b.cn)("App"),mt=function(e){function t(){return Object(f.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.goToProfilePage,t=Oe.getValue("id_token");t&&e(t)}},{key:"render",value:function(){return u.a.createElement("div",{className:st()},u.a.createElement(h.a,{history:Ce},u.a.createElement(u.a.Fragment,null,u.a.createElement(v.c,null,u.a.createElement(v.a,{exact:!0,path:"/",render:function(){return u.a.createElement(Ue,null)}}),u.a.createElement(v.a,{exact:!0,path:"/registration",render:function(){return u.a.createElement(Ge,null)}}),u.a.createElement(v.a,{exact:!0,path:"/profile",render:function(){return u.a.createElement(lt,null)}}),u.a.createElement(v.a,{render:function(){return u.a.createElement("div",{className:st("NotFoundPage")},u.a.createElement(O.a,{as:"h1"},"404 - Not found"))}})))))}}]),t}(i.Component),ft=Object(m.c)(null,function(e){return{goToProfilePage:function(t){return e(P(t))}}})(mt),dt=(n(544),function(e){var t=Object(T.createStore)(le(Ce),e,Object(A.composeWithDevTools)(Object(T.applyMiddleware)(Object(C.a)(Ce),Ae)));return Ae.run(Te),t}(ue));s.a.render(u.a.createElement(m.a,{store:dt},u.a.createElement(ft,null)),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.bc6a853e.chunk.js.map