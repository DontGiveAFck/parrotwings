(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,n){e.exports=n.p+"static/media/bg-start-o.17042cbc.jpg"},294:function(e,t,n){e.exports=n.p+"static/media/bg-pr.a427234a.jpg"},306:function(e,t,n){e.exports=n(545)},311:function(e,t,n){},316:function(e,t,n){},319:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a,r,o,c,i=n(0),u=n.n(i),l=n(56),s=n.n(l),m=(n(311),n(32)),f=n(35),d=n(36),p=n(50),E=n(48),b=n(51),g=(n(316),n(49)),O=n(92),h=n(72),v=n(64),j=n(78),T=n(215),C=n(276),A=n(558);!function(e){e.LOGIN="LOGIN",e.REGISTRATION="REGISTRATION"}(a||(a={})),function(e){e.EMAIL="EMAIL",e.PASSWORD="PASSWORD",e.PASSWORD_REPEAT="PASSWORD_REPEAT",e.USERNAME="USERNAME"}(r||(r={})),function(e){e.Date="date",e.Username="username",e.Amount="amount"}(o||(o={})),function(e){e.ASC="ASC",e.DESC="DESC"}(c||(c={}));var S=n(17),y="GO_TO_REGISTRATION_PAGE";var k="GO_TO_LOGIN_PAGE";var N="REGISTRATION";var I="CHANGE_AUTH_FIELD";function R(e,t){return{type:I,field:e,value:t}}var w="USER_AUTH_SUCCESS";function D(e){return{type:w,idToken:e}}var P="USER_AUTH_FAILURE";function F(e){return{type:P,errorText:e}}var _="LOGIN";var L=1e3,M=20,U="FETCH_PROFILE_DATA";function B(){return{type:U}}var x="FETCH_PROFILE_DATA_SUCCESS";var V="OPEN_TRANSACTION_MODAL";function G(e,t){return{type:V,name:e,amount:t}}var W="CLOSE_TRANSACTION_MODAL";function H(e,t){return{type:W,name:e,amount:t}}var z="CHANGE_TRANSACTION_NAME";var J="UPDATE_SUGGESTED_USERS_LIST";var q="CHANGE_TRANSACTION_AMOUNT";var Q="CREATE_TRANSACTION";var K="LOGOUT";function X(){return{type:K}}var Y="CREATE_TRANSACTION_FAILURE";function Z(e){return{type:Y,errorText:e}}var $="CHANGE_SORT_OPTIONS";function ee(e){return{type:$,column:e}}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e,t){return Object(S.a)({},e,{page:a.REGISTRATION,credentials:{username:"",email:"",password:"",rPassword:""},errorText:""})}(e);case k:return function(e,t){return Object(S.a)({},e,{page:a.LOGIN,credentials:{username:"",email:"",password:"",rPassword:""},errorText:""})}(e);case I:return function(e,t){var n=t.field.toUpperCase(),a=Object(S.a)({},e.credentials);if(n===r.USERNAME){if(a.username&&a.username.length>M)return e;a.username=t.value}else n===r.EMAIL?a.email=t.value:n===r.PASSWORD?a.password=t.value:n===r.PASSWORD_REPEAT&&(a.rPassword=t.value);return Object(S.a)({},e,{credentials:Object(S.a)({},a)})}(e,t);case P:return function(e,t){return Object(S.a)({},e,{errorText:t.errorText})}(e,t);case K:return function(e,t){return Object(S.a)({},e,{errorText:""})}(e);default:return e}},ne=n(295),ae=n(277);var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return function(e,t){var n=t.userInfo,a=t.transactionsInfo;return a.sort(function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}),Object(S.a)({},e,{userInfo:n,transactionsInfo:a,isLoading:!1})}(e,t);case V:return function(e,t){return Object(S.a)({},e,{transactionModalOpened:!0,transactionModalData:{name:t.name||"",amount:t.amount||0,suggestedUsersList:[]}})}(e,t);case W:return function(e,t){return Object(S.a)({},e,{transactionModalOpened:!1})}(e);case z:return function(e,t){return Object(S.a)({},e,{transactionModalData:Object(S.a)({},e.transactionModalData,{name:t.name})})}(e,t);case q:return function(e,t){return Object(S.a)({},e,{transactionModalData:Object(S.a)({},e.transactionModalData,{amount:t.amount})})}(e,t);case J:return function(e,t){var n,a=t.suggestedUsersList;return Object(S.a)({},e,{transactionModalData:Object(S.a)({},e.transactionModalData,{suggestedUsersList:(n=a,n.map(function(e){return{key:e.id,value:e.name,text:e.name}}))})})}(e,t);case Y:return function(e,t){return Object(S.a)({},e,{transactionModalData:Object(S.a)({},e.transactionModalData,{errorText:t.errorText})})}(e,t);case U:return function(e,t){return Object(S.a)({},e,{isLoading:!0})}(e);case $:return function(e,t){var n=t.column,a=e.transactionsInfo,r=e.sortColumn,o=e.sortDirection;if(r!==n)return Object(S.a)({},e,{sortColumn:n,transactionsInfo:ae.sortBy(a,[n]),sortDirection:c.ASC});var i=Object(ne.a)(a).reverse();return Object(S.a)({},e,{transactionsInfo:i,sortDirection:o===c.ASC?c.DESC:c.ASC})}(e,t);default:return e}},oe={page:a.LOGIN,credentials:{username:"",email:"",password:"",rPassword:""}},ce={userInfo:{name:"",balance:0},transactionsInfo:[],isLoading:!1,transactionModalOpened:!1,transactionModalData:{name:"",amount:0,suggestedUsersList:[]},sortColumn:o.Date,sortDirection:c.DESC},ie={auth:oe,profile:ce},ue=function(e){return Object(j.combineReducers)({router:Object(O.b)(e),auth:te,profile:re})},le=n(565),se=n(297),me=n(279),fe=n(151),de=n(554),pe=n(280),Ee=n(34),be=n(553),ge=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,null,[{key:"setValue",value:function(e,t){localStorage.setItem(e,t)}},{key:"getValue",value:function(e){var t=localStorage.getItem(e);return null===t?null:t}},{key:"removeValue",value:function(e){localStorage.removeItem(e)}}]),e}(),Oe="http://193.124.114.46:3001",he=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,null,[{key:"registration",value:function(e){var t=fetch("".concat(Oe,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"login",value:function(e){var t=fetch("".concat(Oe,"/sessions/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getTransactions",value:function(e){var t=fetch("".concat(Oe,"/api/protected/transactions"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getUserInfo",value:function(e){var t=fetch("".concat(Oe,"/api/protected/user-info"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(t)}},{key:"getFilteredUsersList",value:function(e){var t=ge.getValue("id_token"),n=fetch("".concat(Oe,"/api/protected/users/list"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({filter:e})}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(n)}},{key:"createTransaction",value:function(e,t){var n=ge.getValue("id_token"),a=fetch("".concat(Oe,"/api/protected/transactions"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({name:e,amount:t})}).then(function(e){return e.ok?e.json().then(function(e){return{status:"ok",data:e}}):e.text().then(function(e){throw Error(e)})});return Object(be.a)(a)}}]),e}(),ve=n(555),je=Object(le.a)(function(e){return e.pipe(Object(se.a)(y),Object(me.a)(function(e){return Object(pe.a)(Object(Ee.d)("/registration"))}))},function(e){return e.pipe(Object(se.a)(k),Object(me.a)(function(e){return Object(pe.a)(Object(Ee.d)("/"))}))},function(e){return e.pipe(Object(se.a)(N),Object(me.a)(function(e){return he.registration(e.credentials).pipe(Object(fe.a)(function(e){var t=e.data.id_token;return ge.setValue("id_token",t),D(t)}),Object(de.a)(function(e){return Object(pe.a)(F(e.message))}))}))},function(e){return e.pipe(Object(se.a)(w),Object(me.a)(function(e){return Object(pe.a)(Object(Ee.d)("/profile"))}))},function(e){return e.pipe(Object(se.a)(_),Object(me.a)(function(e){return he.login(e.credentials).pipe(Object(fe.a)(function(e){var t=e.data.id_token;return ge.setValue("id_token",t),D(t)}),Object(de.a)(function(e){return Object(pe.a)(F(e.message))}))}))},function(e){return e.pipe(Object(se.a)(U),Object(me.a)(function(e){var t=ge.getValue("id_token")||"";return Object(ve.a)(he.getUserInfo(t),he.getTransactions(t)).pipe(Object(fe.a)(function(e){var t;return function(e,t){return{type:x,userInfo:e,transactionsInfo:t}}({balance:(t=e[0].data.user_info_token).balance,name:t.name},e[1].data.trans_token)}),Object(de.a)(function(e){return Object(pe.a)(X(),Object(Ee.d)("/"),F(e.message))}))}))},function(e){return e.pipe(Object(se.a)(z),Object(me.a)(function(e){return he.getFilteredUsersList(e.name).pipe(Object(fe.a)(function(e){return t=e.data,{type:J,suggestedUsersList:t};var t}),Object(de.a)(function(e){return Object(pe.a)(Z(e.message))}))}))},function(e){return e.pipe(Object(se.a)(Q),Object(me.a)(function(e){return he.createTransaction(e.name,e.amount).pipe(Object(me.a)(function(){return Object(pe.a)(B(),H())}),Object(de.a)(function(e){return Object(pe.a)(Z(e.message))}))}))},function(e){return e.pipe(Object(se.a)(K),Object(me.a)(function(e){return ge.removeValue("id_token"),Object(pe.a)(Object(Ee.d)("/"))}))},function(e){return e.pipe(Object(se.a)(x),Object(me.a)(function(e){return Object(pe.a)(ee(o.Date))}))}),Te=Object(v.a)(),Ce=Object(A.a)();var Ae=n(58),Se=(n(319),n(570)),ye=n(559),ke=n(564),Ne=n(563),Ie=n(162),Re=n.n(Ie),we=n(156),De=n(157),Pe=n.n(De),Fe=Object(g.cn)("LoginPage"),_e=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={loginFormVisible:!1,loginButtonActive:!0},n.getLoginForm=function(){var e=n.state,t=e.loginFormVisible,a=e.loginButtonActive,o=n.props,c=o.openRegistrationPageClick,i=o.onChangeAuthField,l=(o.email,o.errorText);return u.a.createElement(Se.a,{visible:t,animation:"fade",duration:L},u.a.createElement("div",{className:Fe("Form")},u.a.createElement(ye.a,{error:Boolean(l)},u.a.createElement(ye.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"E-mail"),u.a.createElement(ye.a.Input,{icon:"mail",iconPosition:"left",required:!0,id:"email-input",type:"email",placeholder:"Enter e-mail",onChange:function(e){return n.changeEmailField(r.EMAIL,e.target.value)},onBlur:n.emailValidate,error:!a})),u.a.createElement(ye.a.Field,null,u.a.createElement("label",null,"Password"),u.a.createElement(ye.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD,e.target.value)}})),u.a.createElement(ye.a.Field,null,u.a.createElement(ke.a,{type:"submit",color:"instagram",onClick:n.loginButtonClick,disabled:!a},"Let me in!")),u.a.createElement(ye.a.Field,null,u.a.createElement("div",{className:Fe("Actions")},u.a.createElement("div",{className:Fe("RegistrationInfo")},u.a.createElement("span",null,"Don't have an account?"),u.a.createElement("a",{className:Fe("OpenRegistrationBtn"),onClick:c},"Sign up")))),u.a.createElement(Ne.a,{error:!0,header:"Authorisation Error",content:l}))))},n.getTitle=function(){var e=n.state.loginFormVisible;return u.a.createElement(Se.a,{visible:e,animation:"fade",duration:1e3},u.a.createElement("div",{className:Fe("Title")},u.a.createElement(Re.a,{as:"h1"},"Welcome to Parrot Wings!")))},n.loginButtonClick=function(){var e=n.props,t=e.email,a=e.password;(0,e.onLoginButtonClick)({email:t,password:a})},n.emailValidate=function(){var e=n.props.email;we.validate(e)?n.setState({loginButtonActive:!0}):n.setState({loginButtonActive:!1})},n.changeEmailField=function(e,t){var a=n.props.onChangeAuthField;n.setState({loginButtonActive:!0}),a(e,t)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:Fe(),style:{backgroundImage:"url(".concat(Pe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},this.getTitle(),this.getLoginForm())}},{key:"componentDidMount",value:function(){this.setState({loginFormVisible:!0})}},{key:"componentWillUnmount",value:function(){this.setState({loginFormVisible:!1})}}]),t}(i.Component),Le=Object(Ae.a)(function(e){return e.auth.credentials.email},function(e){return e.auth.credentials.password},function(e){return e.auth.errorText},function(e,t,n){return{email:e,password:t,errorText:n}}),Me=Object(m.c)(function(e){return Object(S.a)({},Le(e))},function(e){return{openRegistrationPageClick:function(){return e({type:y})},onChangeAuthField:function(t,n){return e(R(t,n))},onLoginButtonClick:function(t){return e(function(e){return{type:_,credentials:e}}(t))}}})(_e),Ue=(n(534),Object(g.cn)("RegistrationPage")),Be=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={registrationFormVisible:!1,registrationButtonActive:!0},n.getRegistrationForm=function(){var e=n.state,t=e.registrationFormVisible,a=e.registrationButtonActive,o=n.props,c=o.openLoginPageClick,i=o.onChangeAuthField,l=o.errorText,s=o.password,m=o.rPassword,f=o.username,d=o.email,p=m===s;return u.a.createElement(Se.a,{visible:t,animation:"fade",duration:L},u.a.createElement("div",{className:Ue("Form")},u.a.createElement(ye.a,{error:Boolean(l)},u.a.createElement(ye.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"E-mail"),u.a.createElement(ye.a.Input,{id:"email-input",type:"email",icon:"mail",iconPosition:"left",placeholder:"Enter e-mail",onChange:function(e){return n.changeEmailField(r.EMAIL,e.target.value)},onBlur:function(){return n.emailValidate()},error:!a,value:d})),u.a.createElement(ye.a.Field,null,u.a.createElement("label",null,"Username"),u.a.createElement(ye.a.Input,{icon:"user",iconPosition:"left",type:"text",placeholder:"Enter username",onChange:function(e){return i(r.USERNAME,e.target.value)},value:f})),u.a.createElement(ye.a.Field,null,u.a.createElement("label",null,"Password"),u.a.createElement(ye.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD,e.target.value)},error:!p,value:s})),u.a.createElement(ye.a.Field,null,u.a.createElement("label",null,"Repeat password"),u.a.createElement(ye.a.Input,{icon:"lock",iconPosition:"left",type:"password",placeholder:"Enter password",onChange:function(e){return i(r.PASSWORD_REPEAT,e.target.value)},error:!p,value:m})),u.a.createElement(ye.a.Field,null,u.a.createElement("div",{className:Ue("SignUpButton")},u.a.createElement(ke.a,{type:"submit",color:"instagram",onClick:n.onRegistrationButtonClick,disabled:!a||!p},"Sign up and login"))),u.a.createElement(ye.a.Field,null,u.a.createElement("div",{className:Ue("Actions")},u.a.createElement("div",{className:Ue("RegistrationInfo")},u.a.createElement("span",null,"Already signed up?"),u.a.createElement("a",{className:Ue("OpenRegistrationBtn"),onClick:c},"Sign in")))),u.a.createElement(Ne.a,{error:!0,header:"Registration Error",content:l}))))},n.getTitle=function(){var e=n.state.registrationFormVisible;return u.a.createElement(Se.a,{visible:e,animation:"fade",duration:1e3},u.a.createElement("div",{className:Ue("Title")},u.a.createElement(Re.a,{as:"h1"},"Join us!")))},n.onRegistrationButtonClick=function(){var e=n.props,t=e.email,a=e.password,r=e.username;(0,e.registrationButtonClick)({email:t,password:a,username:r})},n.emailValidate=function(){var e=n.props.email;we.validate(e)?n.setState({registrationButtonActive:!0}):n.setState({registrationButtonActive:!1})},n.changeEmailField=function(e,t){var a=n.props.onChangeAuthField;n.setState({registrationButtonActive:!0}),a(e,t)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:Ue(),style:{backgroundImage:"url(".concat(Pe.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},this.getTitle(),this.getRegistrationForm())}},{key:"componentDidMount",value:function(){this.setState({registrationFormVisible:!0})}},{key:"componentWillUnmount",value:function(){this.setState({registrationFormVisible:!1})}}]),t}(i.Component),xe=Object(Ae.a)(function(e){return e.auth.credentials.username},function(e){return e.auth.credentials.email},function(e){return e.auth.credentials.password},function(e){return e.auth.credentials.rPassword},function(e){return e.auth.errorText},function(e,t,n,a,r){return{username:e,email:t,password:n,rPassword:a,errorText:r}}),Ve=Object(m.c)(function(e){return Object(S.a)({},xe(e))},function(e){return{openLoginPageClick:function(){return e({type:k})},registrationButtonClick:function(t){return e(function(e){return{type:N,credentials:e}}(t))},onChangeAuthField:function(t,n){return e(R(t,n))}}})(Be),Ge=(n(535),n(103)),We=n(566),He=n(556),ze=n(557),Je=(n(536),n(561)),qe=n(568),Qe=Object(g.cn)("TransactionsInfo"),Ke=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getTableRow=function(e){var t=e.id,a=e.balance,r=e.amount,o=e.date,c=e.username,i=n.props.openTransactionModal;return u.a.createElement(Je.a.Row,{key:t,positive:r>0,negative:r<0},u.a.createElement(Je.a.Cell,null,o),u.a.createElement(Je.a.Cell,null,c),u.a.createElement(Je.a.Cell,null,r," PW"),u.a.createElement(Je.a.Cell,null,a," PW"),u.a.createElement(Je.a.Cell,null,u.a.createElement(ke.a,{color:"green",onClick:function(){return i(c,Math.abs(r))}},"Use as template")))},n.getTableEmptyRow=function(){return u.a.createElement(Je.a.Row,null,u.a.createElement(Je.a.Cell,null,"No transactions"))},n.getTable=function(){var e=n.props,t=e.transactionsInfo,a=e.sortDirection,r=e.sortColumn,i=a===c.ASC?"ascending":"descending";return u.a.createElement("div",{className:Qe("Table")},u.a.createElement(Je.a,{selectable:!0,sortable:!0,celled:!0,compact:!0,fixed:!0},u.a.createElement(Je.a.Header,null,u.a.createElement(Je.a.Row,null,u.a.createElement(Je.a.HeaderCell,{sorted:r===o.Date?i:void 0,onClick:function(){return n.handleSort(o.Date)}},"Date/Time of the transaction"),u.a.createElement(Je.a.HeaderCell,{sorted:r===o.Username?i:void 0,onClick:function(){return n.handleSort(o.Username)}},"Correspondent name"),u.a.createElement(Je.a.HeaderCell,{sorted:r===o.Amount?i:void 0,onClick:function(){return n.handleSort(o.Amount)}},"Transaction amount"),u.a.createElement(Je.a.HeaderCell,null,"Resulting balance"),u.a.createElement(Je.a.HeaderCell,null,"Actions"))),u.a.createElement(Je.a.Body,null,0===t.length?n.getTableEmptyRow():t.map(function(e){return n.getTableRow(e)}))))},n.handleSort=function(e){(0,n.props.changeSortType)(e)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:Qe()},u.a.createElement(qe.a,{as:"h2",className:Qe("Title")},"Transactions history"),this.getTable())}}]),t}(i.Component),Xe=Object(Ae.a)(function(e){return e.profile.transactionsInfo},function(e){return e.profile.sortDirection},function(e){return e.profile.sortColumn},function(e,t,n){return{transactionsInfo:e,sortDirection:t,sortColumn:n}}),Ye=Object(m.c)(function(e){return Object(S.a)({},Xe(e))},function(e){return{openTransactionModal:function(t,n){return e(G(t,n))},changeSortType:function(t){return e(ee(t))}}})(Ke),Ze=(n(537),n(560)),$e=n(562),et=Object(g.cn)("TransactionModal"),tt=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).dropdownRef=u.a.createRef(),n.onConfirmButtonClick=function(){var e=n.props,t=e.createTransaction,a=e.transactionModalData;t(a.name,a.amount)},n.onSelectTransactionName=function(e,t){var a=t.value;(0,n.props.changeTransactionName)(a)},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.transactionModalOpened,n=e.closeTransactionModal,a=e.transactionModalData,r=e.changeTransactionName,o=e.changeTransactionAmount,c=(e.createTransaction,a.name),i=a.amount,l=a.suggestedUsersList,s=a.errorText,m=void 0===s?"":s;return u.a.createElement("div",{className:et()},u.a.createElement(Ze.a,{open:t,closeOnDocumentClick:!0},u.a.createElement(qe.a,{icon:"money",content:"Create new transaction"}),u.a.createElement(Ze.a.Content,null,u.a.createElement(ye.a,{error:Boolean(m)},u.a.createElement(ye.a.Field,null,u.a.createElement("label",{htmlFor:"dropdown"},"Name"),u.a.createElement($e.a,{id:"dropdown",placeholder:"Write name and select user",fluid:!0,search:!0,selection:!0,onSearchChange:function(e,t){return r(t.searchQuery)},options:l,onChange:this.onSelectTransactionName.bind(this),ref:this.dropdownRef,text:c})),u.a.createElement(ye.a.Field,null,u.a.createElement("label",{htmlFor:"email-input"},"Amount"),u.a.createElement(ye.a.Input,{value:i||"",placeholder:"Amount",type:"number",onChange:function(e){return o(Number(e.target.value))}})),u.a.createElement(Ne.a,{error:!0,header:"Transaction error",content:m}))),u.a.createElement(Ze.a.Actions,null,u.a.createElement(ke.a,{color:"red",onClick:n},u.a.createElement(Ge.a,{name:"remove"}),"Cancel"),u.a.createElement(ke.a,{color:"green",onClick:this.onConfirmButtonClick},u.a.createElement(Ge.a,{name:"checkmark"}),"Confirm"))))}}]),t}(i.Component),nt=Object(Ae.a)(function(e){return e.profile.transactionModalOpened},function(e){return e.profile.transactionModalData},function(e,t){return{transactionModalOpened:e,transactionModalData:t}}),at=Object(m.c)(function(e){return Object(S.a)({},nt(e))},function(e){return{closeTransactionModal:function(){return e(H())},changeTransactionName:function(t){return e(function(e){return{type:z,name:e}}(t))},changeTransactionAmount:function(t){return e(function(e){return{type:q,amount:e}}(t))},createTransaction:function(t,n){return e(function(e,t){return{type:Q,name:e,amount:t}}(t,n))}}})(tt),rt=n(294),ot=n.n(rt),ct=Object(g.cn)("ProfilePage"),it=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getUserInfo=function(){var e=n.props,t=e.userInfo,a=e.openTransactionModal,r=e.logout,o=e.fetchProfileData,c=t.name,i=t.balance;return u.a.createElement("div",{className:ct("UserInfo")},u.a.createElement("div",{className:ct("Name")},"Name: ",u.a.createElement("span",{className:ct("NameValue")},c)),u.a.createElement("div",{className:ct("Balance")},"Balance: ",u.a.createElement("span",{className:ct("BalanceValue")},i)," PW"),u.a.createElement("div",{className:ct("SendButton")},u.a.createElement("a",{onClick:function(){return a()}},u.a.createElement(Ge.a,{name:"btc"}),u.a.createElement("span",null,"Create transaction"))),u.a.createElement("div",{className:ct("SendButton")},u.a.createElement("a",{onClick:function(){return o()}},u.a.createElement(Ge.a,{name:"sync"}),u.a.createElement("span",null,"Update info"))),u.a.createElement("div",{className:ct("Logout")},u.a.createElement("a",{onClick:r,className:ct("LogoutElement")},u.a.createElement(Ge.a,{name:"power off"}),u.a.createElement("span",null,"Logout"))))},n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProfileData)()}},{key:"render",value:function(){var e=this.props.isLoading;return u.a.createElement("div",{className:ct()},u.a.createElement(We.a,{active:e},u.a.createElement(He.a,{size:"massive"},"Loading")),!e&&u.a.createElement("div",{className:ct("Container"),style:{backgroundImage:"url(".concat(ot.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},u.a.createElement(ze.a,null,this.getUserInfo(),u.a.createElement(Ye,null),u.a.createElement(at,null))))}}]),t}(i.Component),ut=Object(Ae.a)(function(e){return e.profile.isLoading},function(e){return e.profile.userInfo},function(e){return e.profile.transactionsInfo},function(e,t,n){return{isLoading:e,userInfo:t,transactionsInfo:n}}),lt=Object(m.c)(function(e){return Object(S.a)({},ut(e))},function(e){return{fetchProfileData:function(){return e(B())},openTransactionModal:function(t,n){return e(G(t,n))},logout:function(){return e(X())}}})(it),st=Object(g.cn)("App"),mt=function(e){function t(){return Object(f.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.goToProfilePage,t=ge.getValue("id_token");t&&e(t)}},{key:"render",value:function(){return u.a.createElement("div",{className:st()},u.a.createElement(O.a,{history:Te},u.a.createElement(u.a.Fragment,null,u.a.createElement(h.c,null,u.a.createElement(h.a,{exact:!0,path:"/",render:function(){return u.a.createElement(Me,null)}}),u.a.createElement(h.a,{exact:!0,path:"/registration",render:function(){return u.a.createElement(Ve,null)}}),u.a.createElement(h.a,{exact:!0,path:"/profile",render:function(){return u.a.createElement(lt,null)}})))))}}]),t}(i.Component),ft=Object(m.c)(null,function(e){return{goToProfilePage:function(t){return e(D(t))}}})(mt),dt=(n(544),function(e){var t=Object(j.createStore)(ue(Te),e,Object(C.composeWithDevTools)(Object(j.applyMiddleware)(Object(T.a)(Te),Ce)));return Ce.run(je),t}(ie));s.a.render(u.a.createElement(m.a,{store:dt},u.a.createElement(ft,null)),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.1169cf99.chunk.js.map